<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Simple Shop - Add to Cart</title>
<style>
  :root{
    --bg:#f6f8fb; --card:#fff; --accent:#2563eb; --muted:#6b7280;
    --radius:12px;
  }
  body{
    margin:0; font-family:Inter,system-ui,Arial; background:var(--bg); color:#0f1724;
    min-height:100vh; display:flex; flex-direction:column; gap:18px; padding:24px;
  }
  header{display:flex;justify-content:space-between;align-items:center;gap:12px}
  h1{margin:0;font-size:20px}
  .cart-btn{
    position:relative;
    background:transparent;border:0;cursor:pointer;font-weight:600;
    padding:8px 12px;border-radius:10px;
  }
  .cart-count{
    position:absolute; top:-6px; right:-6px; background:#ef4444; color:white;
    width:22px;height:22px;border-radius:99px; display:grid; place-items:center;
    font-size:12px; box-shadow:0 6px 16px rgba(16,24,40,0.12);
  }

  .grid{display:grid; grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); gap:18px}
  .card{background:var(--card); border-radius:var(--radius); padding:14px; box-shadow:0 8px 30px rgba(15,23,42,0.06); display:flex;flex-direction:column; gap:10px}
  .img{height:140px;border-radius:10px;background:linear-gradient(135deg,#dbeafe,#e0f2fe); display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--muted)}
  .title{font-size:15px;margin:0}
  .price{color:var(--muted); font-weight:700}
  .actions{margin-top:auto; display:flex; gap:8px; align-items:center}
  .btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer}
  .btn-primary{background:var(--accent); color:white}
  .btn-outline{background:transparent;border:1px solid #e6eefc;color:var(--accent); font-weight:600}

  
  .cart-panel{
    position:fixed; right:18px; bottom:18px; width:320px; max-height:70vh; overflow:auto;
    background:white;border-radius:14px;padding:14px; box-shadow:0 18px 50px rgba(2,6,23,0.12);
    transform: translateY(10px); transition:all .2s; display:none;
  }
  .cart-panel.show{display:block}
  .cart-item{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px dashed #eef2ff}
  .cart-item:last-child{border-bottom:0}
  .cart-item .cmeta{flex:1}
  .small{font-size:13px;color:var(--muted)}
  .qty{display:flex;gap:6px;align-items:center}
  .trash{background:transparent;border:0;color:#ef4444;cursor:pointer}

  footer{margin-top:auto;font-size:13px;color:var(--muted)}
  @media (max-width:600px){ .cart-panel{right:12px; width:92vw} }
</style>
</head>
<body>
  <header>
    <div>
      <h1>Komal Mini Shop</h1>
      <div class="small">Buy One Get One Free........</div>
    </div>

    <div>
      <button class="cart-btn" id="openCart">
        üõí Cart
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </div>
  </header>

  <main class="grid" id="productGrid" aria-live="polite">
    <!-- JS will populate products here -->
  </main>

  <div class="cart-panel" id="cartPanel" aria-hidden="true" role="dialog" aria-label="Shopping cart">
    <h3 style="margin:0 0 8px 0">Your Cart</h3>
    <div id="cartItems"></div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
      <div class="small">Total:</div>
      <div id="cartTotal" style="font-weight:700">‚Çπ0.00</div>
    </div>
    <div style="margin-top:12px;display:flex;gap:8px">
      <button class="btn btn-primary" id="checkoutBtn">Checkout</button>
      <button class="btn btn-outline" id="clearBtn">Clear</button>
    </div>
  </div>

  <footer>SHOP ONLINE AT Komal Mini Shop WITH COMPLETE CONVENIENCE
Another reason why Komal Mini Shop is the best of all online stores is the complete convenience that it offers. You can view your favourite brands with price options for different products in one place. A user-friendly interface will guide you through your selection process. Comprehensive size charts, product information and high-resolution images help you make the best buying decisions. You also have the freedom to choose your payment options, be it card or cash-on-delivery. The 14-day returns policy gives you more power as a buyer. Additionally, the try-and-buy option for select products takes customer-friendliness to the next level.

Enjoy the hassle-free experience as you shop comfortably from your home or your workplace. You can also shop for your friends, family and loved-ones and avail our gift services for special occasions.</footer>

<script>
(function(){
  const products = [
    { id: 'p1', name: 'Blue Tee', price: 499, imageText: 'T-Shirt' },
    { id: 'p2', name: 'Classic Sneakers', price: 2499, imageText: 'Sneakers' },
    { id: 'p3', name: 'Denim Jacket', price: 1899, imageText: 'Jacket' },
    { id: 'p4', name: 'Sunglasses', price: 799, imageText: 'Shades' }
  ];

  const $ = sel => document.querySelector(sel);
  const $$ = sel => document.querySelectorAll(sel);

  const grid = $('#productGrid');
  const cartCountEl = $('#cartCount');
  const cartPanel = $('#cartPanel');
  const cartItemsEl = $('#cartItems');
  const cartTotalEl = $('#cartTotal');
  const openCartBtn = $('#openCart');
  const clearBtn = $('#clearBtn');
  const checkoutBtn = $('#checkoutBtn');

  
  let cart = JSON.parse(localStorage.getItem('mini_cart_v1') || '{}');

  function saveCart(){
    localStorage.setItem('mini_cart_v1', JSON.stringify(cart));
    renderCart();
  }

  
  function renderProducts(){
    grid.innerHTML = '';
    products.forEach(p => {
      const card = document.createElement('article');
      card.className = 'card';
      card.innerHTML = `
        <div class="img">${p.imageText}</div>
        <h3 class="title">${p.name}</h3>
        <div class="price">‚Çπ${p.price.toFixed(2)}</div>
        <div class="actions">
          <button class="btn btn-primary add-btn" data-id="${p.id}">Add to cart</button>
          <button class="btn btn-outline details-btn" data-id="${p.id}">Details</button>
        </div>`;
      grid.appendChild(card);
    });

    
    document.querySelectorAll('.add-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const id = btn.dataset.id;
        addToCart(id, 1);
       
        btn.textContent = 'Added ‚úì';
        setTimeout(()=> btn.textContent = 'Add to cart', 900);
      });
    });

    document.querySelectorAll('.details-btn').forEach(btn=>{
      btn.addEventListener('click', ()=> alert('No backend here ‚Äî just a demo.'));
    });
  }

  function addToCart(id, qty = 1){
    if(!cart[id]) {
      const prod = products.find(p => p.id === id);
      cart[id] = { ...prod, qty: 0 };
    }
    cart[id].qty += qty;
    saveCart();
    showCartCount();
  }

  function removeFromCart(id){
    delete cart[id];
    saveCart();
    showCartCount();
  }

  function changeQty(id, delta){
    if(!cart[id]) return;
    cart[id].qty += delta;
    if(cart[id].qty <= 0) removeFromCart(id);
    else saveCart();
  }

  function clearCart(){
    cart = {};
    saveCart();
    showCartCount();
  }

  function getCartItemsArray(){
    return Object.values(cart);
  }

  
  function renderCart(){
    const items = getCartItemsArray();
    cartItemsEl.innerHTML = '';
    if(items.length === 0){
      cartItemsEl.innerHTML = '<div class="small">Your cart is empty.</div>';
      cartTotalEl.textContent = '‚Çπ0.00';
      return;
    }
    let total = 0;
    items.forEach(it => {
      total += it.price * it.qty;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <div style="width:56px;height:56px;border-radius:8px;background:#f3f4f6;display:flex;align-items:center;justify-content:center">${it.imageText}</div>
        <div class="cmeta">
          <div style="font-weight:700">${it.name}</div>
          <div class="small">‚Çπ${it.price.toFixed(2)} ‚Ä¢ qty: ${it.qty}</div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:6px">
          <div class="qty">
            <button class="btn-outline dec" data-id="${it.id}">-</button>
            <button class="btn-outline inc" data-id="${it.id}">+</button>
          </div>
          <button class="trash" title="Remove" data-id="${it.id}">üóëÔ∏è</button>
        </div>
      `;
      cartItemsEl.appendChild(div);
    });

   
    cartItemsEl.querySelectorAll('.dec').forEach(b=>{
      b.addEventListener('click', ()=> changeQty(b.dataset.id, -1));
    });
    cartItemsEl.querySelectorAll('.inc').forEach(b=>{
      b.addEventListener('click', ()=> changeQty(b.dataset.id, +1));
    });
    cartItemsEl.querySelectorAll('.trash').forEach(b=>{
      b.addEventListener('click', ()=> removeFromCart(b.dataset.id));
    });

    cartTotalEl.textContent = `‚Çπ${total.toFixed(2)}`;
  }

  function showCartCount(){
    const cnt = getCartItemsArray().reduce((s,i)=> s + i.qty, 0);
    cartCountEl.textContent = String(cnt);
  }

  openCartBtn.addEventListener('click', ()=>{
    cartPanel.classList.toggle('show');
    const shown = cartPanel.classList.contains('show');
    cartPanel.setAttribute('aria-hidden', shown ? 'false' : 'true');
  });

  clearBtn.addEventListener('click', ()=> {
    if(confirm('Clear cart?')) clearCart();
  });

  checkoutBtn.addEventListener('click', ()=> {
    if(getCartItemsArray().length === 0) return alert('Your cart is empty.');
    alert('Checkout demo ‚Äî no payment integrated. Total: ' + cartTotalEl.textContent);
    
  });

  
  renderProducts();
  renderCart();
  showCartCount();

  
  window.__miniShop = { addToCart, cart, saveCart, clearCart };
})();
</script>
</body>
</html>
